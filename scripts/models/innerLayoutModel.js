define(["backbone","../other/cheeringMessage","../other/pageTypeList"],function(e,t,n){var r=e.Model.extend({defaults:function(){return{pageType:n[0],text:"",albumId:"",photoId:"",searchStr:""}},initialize:function(){var e=this,r=function(){e.set({pageType:n[0],albumId:""})},i=function(t){e.set({pageType:n[1],albumId:t,photoId:""})},s=function(t){e.set({pageType:n[2],photoId:t})};this.goForward=function(e){this.get("pageType")==n[0]?i(e):this.get("pageType")==n[1]&&s(e)},this.goBack=function(){this.get("pageType")==n[1]?r():this.get("pageType")==n[2]&&i(this.get("albumId"))};var o=this;(function(){var e;gapi.client.load("plus","v1",function(){var e=gapi.client.plus.people.get({userId:"me"});e.execute(function(e){e&&!e.error&&(t.set(t.get()+e.name.givenName),o.get("pageType")==n[0]&&o.setNewHeader(t.get()))})})})()},setNewHeader:function(e){this.set({text:e})}});return r});